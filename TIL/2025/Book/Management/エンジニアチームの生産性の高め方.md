# 開発プロセスと生産性

## Product Requirements Document

- 一般的に書かれる設計文書

  - 詳細設計書、内部設計書
    - データ構造や処理フローなどの設計を当てた文章。
    - 実装を行うための具体的な指示が記載されていることが多い。
  - Design Doc
    - 設計に焦点を当てた文章。
    - 開発チーム内の議論や意思決定に用いる。
  - アーキテクチャドキュメント、技術仕様書
    - システム全体の構造、特定の機能やモジュールの詳細な技術要求が含まれる文章。

- 開発プロセスにおいて、「何を開発するのか」の合意形成を行うために Product Requirements Document(PRD)を利用する

  - プロダクトマネージャーやエンジニアなどチーム全体で「何を作るのか」の共通認識を持つ
  - 職種によって興味/関心が異なる(PM は開発コスト、エンジニアは実装技術、サポートは仕様など)ので、コミュニケーションのずれが発生しやすい。それを防ぐために合意形成を行う。

- チーム開発において、合意形成が遅れて、開発が遅れ、品質が低下する状態を避けるために初期の段階で「なぜ開発するのか」と「何を開発するのか」について明確にして合意形成を迅速に行うことが重要

- PRD とはプロダクトへの要求が書かれた文章

  - プロダクトの要求を明確にする
  - 「何を開発するのか(what)」を記述するのが PRD の範囲
  - 読みやすさを向上させるための工夫をする
  - PRD に記載されている要求を基準として判断していく必要がある
  - あとで振り返られるようにする
    - なぜそのような UI なったのかなど、当時書かれていた内容をもとに今の問題や課題を判断することができる

- 「なぜ開発するのか(why)」
  - Marketing Requirements Document に記載
- 「どのように開発するのか(how)」
  - Design Doc に記載
- 「誰がいつ開発するのか(who, when)」
  - プロジェクトマネジメントにて記載
- 「どこで開発するのか(where)」

  - プロジェクトマネジメントにて記載

- PRD の書き方
  - 章立て
    - `TODO: 詳しく書く`
    - 概要(必須)
      - 文章が何について書かれているのかを概要の章を見ただけで即座に理解できるようにする
      - 1 文から 2 文程度
      - 例
        - この PRD はスマートフォン向けに提供するコミュニケションアプリに要求される事項について記載した文章です。
      - PRD の章の中でこの章が一番更新されやすい章
        - 開発していたり、話し合いの中で目指すべき要件が変化しながら具体化する場合は、概要の章の記載内容を再検討して実際にリリースされたプロダクトに合致するように修正する
    - 背景(必須)
      - 「なぜ開発するのか(why)」を含めても良い場合はここに記載
      - 開発するに至った経緯を記述する
      - このプロダクト(or 機能)が必要とされている理由を読者に伝えることが目的
      - プロダクト開発の基になったアイディアがどのように解決しようとしているのか(Probrem Statement と呼ばれている)について記述するのが望ましい
      - 課題を明確に記載して、どのように対処するかを示すとこが重要
      - 対応する内容は別の章で記述する
    - 製品原則(必須)
      - PRD において最も重要な部分
      - プロダクトが満たすべき要件を簡潔に表現したもの
      - ある条件を満たさない場合はプロダクトとして認められないという基準を示す
        - プロダクトのコンセプト同様のものだが、より制約や必須条件を強調した内容になる
      - チームメンバー全員が容易に暗記できるほど簡潔である必要がある
        - そのため使う言葉や表現に慎重な選択が求められる
      - 判断基準や指針として機能させる
        - 迷った時には聖人原則に従って判断することなど
    - 対象ユーザー(必須)
      - 課題を抱えている想定ユーザーに焦点を当てる
      - 問題が解決されるであろうユーザー群を特定し、その特徴やニーズを詳細に記載
      - どのユーザーが最も恩恵を受けるかについての明確なイメージをこの章で提示する
      - ペルソナを設定するのに近いことをする
      - 以下の面に影響を与える
        - プロダクトの方向性と焦点の決定
        - ユーザーエクスペリエンスの最適化
        - 機能開発の優先順位付け
    - ユースケース(必須)
      - プロダクトの開発チームがユーザーの視点を理解してプロダクトの設計と開発をガイドするための重要な指針になる
      - ユーザーがプロダクト(or 機能)を使用して目的を達成する過程のステップが含まれる
      - 各ユースケースについて
        - ユーザーがプロダクト(or 機能)を使用する目的とそれを達成するために取る行動についても説明する
          - ユーザーが達成しようとする具体的なタスクや目標が含まれる
        - ユーザーがプロダクトを使用する環境や状況(オフィスでの仕事中や自宅でのリラックス時間など...)
      - ユーザーにて説明される詳細なステップにユーザーのアクションとプロダクトからの応答の詳細な記述も含めていい(エンジニアはあると助かりそう)
        - ユーザーがプロダクトの特定の機能を使用する方法とその結果としてのプロダクトの振る舞いが含まれる
      - 主要なユースケースに加えて、特殊な状況や例外的な条件下での使用シナリオを検討しても良さそう
        - エラー処理や予期せぬユーザー行動に対するプロダクトの対応も含まれる
      - そして、ユースケースが成功するための基準を定義する
        - ユーザーが期待する結果や達成すべき目標が含まれる
      - ユースケースは明確で集中的であるべき
        - 各主要機能に少なくとも 1 つはユースケースを割り当てることを目指す
        - 不必要に多くのユースケースを記述すると重要な情報が漏れたり読者が混乱したりする可能性があるので注意が必要
    - 市場分析(任意、機能単位の開発の場合は省略されることが多い)
      - TODO
    - 競合分析(任意、機能単位の開発の場合は省略されることが多い)
      - TODO
    - 機能要求(必須)
      - プロダクトに対する具体的な機能への要求を記述する
      - 対象ユーザーがユースケースを実行できるようにするための機能が含まれる
      - 各機能について、その目的、動作、ユーザーとのインタラクション、入出力の結果、必要となる情報などについて具体的に説明する
        - 機能間の相互関係や依存性があれば、関連する機能がどのように連携して動作するかについても説明する
      - 機能を説明する際に重要なことはユースケースとの対応を明確にすること
        - 各機能が実際のユーザーのニーズをどのように満たすかを明確にできる
      - この章では各機能をどこまで詳細に説明するかがポイントになる
        - 理由として、「課題を解決するために、どのような価値を提供するか」ということが PRD に記載すべき本質的なことであって、具体的な開発成果物について PRD 内で紐づけられてしまうことは避けるべきだから
        - つまり、「何を開発するかの」の詳細に立ち入りすぎない、そのバランスが大事(その見極めが難しそうだな)
        - 例えば、初期の段階で UI を固定してしまうと迅速な変更がしにくくなってしまう。UI は別の文章や後の開発段階で行う方がいい
        - 機能要件の章では、機能の目的、動作、必要な入出力、ユーザーとのインタラクションの概要を中心に記述した方がいい
    - その他の技術的要求(任意)
      - 目的: プロダクト(or 機能)が実用的で安全かつ長期的に持続可能であるために必要な技術的要件を定義する
      - ユーザーによって利用される過程で直面する可能性のある技術的な課題やリスクを詳細に洗い出してそれらに対する対策を明確に記述する。
      - セキュリティ要件、スケーラビリティとパフォーマンス要件、互換性要件、データ保護要件、法的及び規制上の要件など...
    - スコープ(必須)
      - 何が含まれているかと同じくらい何が含まれていないかの情報も重要なのでそれも踏まえて記述する
      - 「何が含まれていないか」
        - 現時点で計画に含まれてない機能や将来のリリースで検討される機能を理由とともに明記する
        - これによりプロジェクトの範囲をはっきりと理解し、プロジェクトの目標や可能性について正確な理解を持つようにする。
    - KPI(任意)
      - Key Performance Indicator(KPI, 主要業績評価指標)は組織の目標達成を測るために使用されている定量的な指標
      - チームが戦略や目標の達成状況を追跡し、管理することが可能になる
      - KPI の数値が一人歩きして形骸化したり。適切な判断ができない状況になった可能性が高い場合は、PRD にて指標を明記することを避ける必要があるかも
      - 指標の合意形成を行うために PRD に KPI を記載しておくような使い方にもできる
    - リリーススケジュール及びマイルストーン(必須)
      - リリースに至るまでのタイムライン、主要な目標(マイルストーン)を記載
      - その日付を選んだ理由を明確に記述することが極めて重要
        - 外的要因である市場要因、ユーザーのニーズ、競合状況に基づいている場合があり、明確な意図と目的が明確に伝えることができるため
      - 非現実的な日付だとメンバーの合意を得られないので、チーム全体の状況も加味して、実現可能な日付の設定をしてメンバーと合意することが必要
        - プロダクト開発は不確実性が多いので、状況に応じて日付の再検討と更新について行ってもいいかもしれない
    - マーケティング計画(任意)
      - TODO
  - 運用時の注意
    - まず、PRD を書く作業は「何を開発するのか(what)」を明確にする作業
      - この作業は、想像以上に大変で困難
    - PRD に記載されている内容について積極的に議論して、全員が「何を開発するのか(what)」の共通認識を持つことが大切
    - `1.ドラフト版の執筆`
      - どのようなユーザーがどのような課題を抱えていて、その課題が解決された際にユーザーがどのような状況になるか、そしてそのために何が欠けているかを明確に説明できる人が執筆者であることが好ましい。他にはアイディアに最も賛同し、プロダクトの必要性を強く感じている人が執筆するでも良い。
      - PRD を初期段階で執筆する範囲
        - 概要: 目的を簡潔に説明
        - 背景: 開発の動機や市場のニーズ、問題点を明らかにする
        - 製品原則: プロダクト設計の指針となる基本的な原則を定める
        - 対象ユーザー: 機能を使用するユーザーグループを特定
        - ユースケース: どのように使用されるかを示す具体的なシナリオを記載
        - これらを記載することで、その機能がユーザーのどのような課題を解決するのかを説明できるようにする
    - `2.マーケティングに関する執筆`
      - 市場分析と競合分析
        - マーケティング担当がいない場合は他の人がこの役割を引き受ける
    - `3.機能に関する執筆`
      - ユーザーに提供すべき体験を具体的に検討し、記載
      - 製品原則の指針に基づきユースケースの章で示された利用シナリオを実現するために必要な機能群を検討
      - UX デザインの考え方が適用される
        - Jesse James Garrett 氏による 5 段階のモデル
        - 戦略(Strategy): ユーザーニーズとプロダクト目的の設定
          - より抽象的
        - 要件(Scope): 必要なコンテンツ・機能の設計
        - 構造(Structure): 情報や機能へのアクセスの全体構造設計
        - 骨格(Skeleton): インターフェース上の情報設計
        - 表層(Surface): 視覚的なデザイン
          - より具体的
        - 抽象的な内容と具体的な検討内容が矛盾してくる場合は議論を戻す必要がある
      - PRD の「概要」から「対象ユーザー」の章は「戦略」に対応する。「ユースケース」の章は「要求」が対応する。「機能要件」の章では「要件」に相当する内容を記載する。また機能単位の PRD であれば「骨格」まで記載することが考えられるが具体的な内容を過度に記載すると、UI は開発が進むにつれて変化しやすいため、PRD とプロダクトの乖離が生まれるリスクが高まるので注意が必要。

## Design Doc

## 参照

- [エンジニアチームの生産性の高め方](https://www.amazon.co.jp/%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E3%83%81%E3%83%BC%E3%83%A0%E3%81%AE%E7%94%9F%E7%94%A3%E6%80%A7%E3%81%AE%E9%AB%98%E3%82%81%E6%96%B9-%E3%80%9C%E9%96%8B%E7%99%BA%E5%8A%B9%E7%8E%87%E3%82%92%E5%90%91%E4%B8%8A%E3%81%95%E3%81%9B%E3%81%A6%E3%80%81%E4%BA%BA%E3%82%92%E8%82%B2%E3%81%A6%E3%82%8B%E4%BB%95%E7%B5%84%E3%81%BF%E3%82%92%E4%BD%9C%E3%82%8B-%E7%94%B0%E4%B8%AD-%E6%B4%8B%E4%B8%80%E9%83%8E/dp/4297145022)
